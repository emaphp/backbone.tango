!function(a,b){"function"==typeof define&&define.amd?define(["backbone","underscore"],function(c,d){return b(a,c,d)}):"undefined"!=typeof exports?module.exports=b(a,require("backbone"),require("underscore")):b(a,a.Backbone,a._)}(this,function(a,b,c){function d(a,b,d){var e={options:c.isObject(d)?c.extend({type:a},d):{type:a}};return c.isObject(b)?c.extend(e,b):(e.message=b,e)}var e=b.$,f=0,g={},h={target:"body",defaultClass:"tango",containerBaseId:"tango-container",containerClass:"tango-container",position:"top-right",timeOut:5e3,newestOnTop:!0,template:void 0,type:"info",showMethod:"fadeIn",showDuration:300,showEasing:"swing",hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,onShown:void 0,tapToDismiss:!0,extendedTimeOut:1e3},i=b.Tango=function(a){this.defaults=c.extend(c.extend({},h),a),this.initialize.apply(this,arguments)};i.extend=b.Model.extend,i.VERSION="0.1.0";var j=i.NotificationView=b.View.extend({initialize:function(a){this.$container=a.$container,this.options=a.options},events:{click:"dismiss",mouseover:"sleep",mouseout:"wakeup"},dismiss:function(){this.options.tapToDismiss&&this.hide(!0)},sleep:function(){var a=this.options;clearTimeout(this.intervalId),this.$el.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})},wakeup:function(){var a=this.options,b=this;(a.timeOut>0||a.extendedTimeOut>0)&&(this.intervalId=setTimeout(function(){b.hide()},a.extendedTimeOut))},render:function(){return this.$container[this.options.newestOnTop?"prepend":"append"](this.el),this.fadeIn(),this},hide:function(a){if(!e(":focus",this.$el).length||a){var b=this.options,c=this;return this.$el[b.hideMethod]({duration:b.hideDuration,easing:b.hideEasing,complete:function(){c.removeEl(),delete c.$container[c.cid],0===c.$container.children().length&&(delete g[c.$container.attr("id")],c.$container.remove()),b.onHidden&&b.onHidden.call(c)}})}},fadeIn:function(){var a=this.options,b=this;this.$el.hide(),this.$el[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(this.intervalId=setTimeout(function(){b.hide()},a.timeOut))},removeEl:function(){this.$el.is(":visible")||(this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),b.View.prototype.remove.call(this))},getContainer:function(){return this.container}});return c.extend(i.prototype,{initialize:function(){},info:function(a,b){return this.notify(d("info",a,b))},success:function(a,b){return this.notify(d("success",a,b))},warning:function(a,b){return this.notify(d("warning",a,b))},error:function(a,b){return this.notify(d("error",a,b))},notify:function(a){function b(a){return a.containerBaseId+"-"+a.position}function d(a){var c=b(a);return g[c]?g[c]:(l=e("#"+c),l=h(a,c),g[c]=l,l)}function h(a,b){return l=e("<div/>").attr("id",b).addClass(a.containerClass).addClass(a.defaultClass+"-"+a.position).attr("aria-live","polite").attr("role","alert"),l=c.extend(l,{childList:{},clear:function(){0!==this.childList.length&&c.each(this.childList,function(a){a.hide(!0)})}}),l.appendTo(e(a.target)),l}var i="undefined"!=typeof a.options?c.extend(this.defaults,a.options):this.defaults,k=i.template||c.template('<div class="<%=cssClass%>"><%=message%></div>'),l=d(i);a=c.extend({id:++f,cssClass:i.defaultClass+(i.type?" "+i.defaultClass+"-"+i.type:"")},a);var m=new j({el:e(k(a)),$container:l,options:i});return l.childList[m.cid]=m,m.render(),m}}),i});
//# sourceMappingURL=backbone.tango.min.js.map